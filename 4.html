<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Programmieren 2 - Kapitel 4 - Objektorientierung</title>

		<link rel="stylesheet" href="reveal.js/dist/reset.css">
		<link rel="stylesheet" href="reveal.js/dist/reveal.css">

        <link rel="stylesheet" href="src/slides.css">
        <link rel="stylesheet" href="src/style.css">

		<link rel="stylesheet" href="src/layout.css">
        <link rel="stylesheet" href="lib/joint.min.css" />
        <link rel="stylesheet" href="src/erd.css" />
        <link rel="stylesheet" href="src/poll.css" />

		<!-- Theme used for syntax highlighting of code -->
		<script>
			if(window.location.search.match( /print-pdf/gi )) {
				document.getElementsByTagName( "head" )[0].innerHTML += '<link rel="stylesheet" href="src/routeros.css">';
			} else {
				document.getElementsByTagName( "head" )[0].innerHTML += '<link rel="stylesheet" href="src/rainbow.css">';
			}
			</script>

        <!--<script defer src="lib/fontawesome.all.min.js"/>-->
        <link href="lib/fontawesome.all.min.css" rel="stylesheet">
        <style> .reveal i.fa { font-family:FontAwesome; font-style: normal; } </style>
	</head>
	<body>
		<div class="reveal">
            <div id="header"></div>
            <div id="footer"></div>
			<div class="slides">
        <section>
          <h4 style="text-align:center"><b>Prof. Dr.-Ing. Johannes Schildgen</b><br>
          <a href="mailto:johannes.schildgen@h-da.de">johannes.schildgen@oth-regensburg.de</a></h4>
          <h1 style="font-size: 200%; margin-top: 1.5cm;">Programmieren 2 (Python)</h1>
          <h3>Kapitel 4: Objektorientierung</h3>
          <h4 style="text-align:center">&nbsp;</h4>
          <img src="img/ccby.png" height="60px" style="position: absolute; left:0px; border:0; bottom:-225px;">
          <img src="img/oth.png" height="60px" style="position: absolute; right:0px; border:0; bottom:-225px; box-shadow:none">
      </section>
                

      <section>
        <h2>Klassen und Objekte</h2>
        <div class="trackinfo"><i class="fas fa-book"></i> 11</div>
        <pre style="width: 98%;"><code class="python" data-sample-indent="keep" data-sample='code/4/person1.py#object'></code></pre>
        <h4>Klasse</h4>
        <p class="small" style="margin-top: -5mm;">Vorlage für Objekte, besteht aus <em>Attributen</em> (<em>Member-<br>Variablen</em>) und <em>Methoden</em>.</p>
        <h4>Objekt</h4>
        <p class="small" style="margin-top: -5mm;">Instanz einer Klasse. Hat eine <em>Objekt-Identität</em> (Speicher-<br>adresse) und einen <em>Zustand</em> (Werte seiner Attribute).</p>
        
        <img style="position: absolute; right:0cm; top:8cm; width:30%" uml="class Person {
          +name : String
          +alter : int
          +Person(name : String)
          +erhoeheAlter()
        }        
        "/>
        <aside class="notes">Im gezeigten Code-Beispiel gibt es die Klasse <code>Person</code>. Das UML-Diagramm rechts zeigt an, dass diese Klasse die beiden Attribute <code>name</code> und <code>alter</code> sowie zwei Methoden besitzt. Die Variable <code>p</code> speichert ein Personen-Objekt, also eine Instanz der Klasse <code>Person</code>.</aside>
      </section>

      <section>
        <h3>Objektorientierung nach Alan Kay</h3>
        <ol class="small">
          <li>Alles ist ein Objekt</li>
          <li class="fragment">Objekte kommunizieren miteinander durch den Austausch von Nachrichten</li>
          <li class="fragment">Objekte haben ihren eigenen Speicher (speichern Objekte)</li>
          <li class="fragment">Ein Objekt ist Instanz einer Klasse (Klasse ist auch ein Objekt)</li>
          <li class="fragment">Eine Klasse definiert das gemeinsame Verhalten ihrer Instanzen</li>
          <li class="fragment">Man startet ein Programm, indem man einer Klasse die Kontrolle übergibt</li>
        </ol>
        
        <aside class="notes">Der Austausch von Nachrichten ist ein wesentliches Merkmal objektorientierter Programmierung. Im Code-Beispiel auf der vorherigen Folie wurde die Methode <code>p.erhoeheAlter()</code> aufgerufen. Das heißt, eine Nachricht wurde an das Objekt geschickt. Andere Methoden liefern ein Ergebnis zurück, es kommt also eine Nachricht zurück.</aside>
      </section>

      <section>
        <h3>Objektorientierung: Vorteile</h3>
        <div style="position: absolute; top: 100px; right:0px; font-size:200px"><i class="fas fa-cubes python"></i></div>
        <h4>Modularisierung</h4>
        <ul>
          <li>Modul: Logische Code-Einheit<br>(z. B. eine oder mehrere Klassen)</li>
          <li>(+) flexibel und leicht erweiterbar</li>
          <li>(+) wiederverwendbar</li>
          <li>(+) Teamwork-freundlich</li>
          <li>(+) jedes Modul individuell testbar</li>
        </ul>
        <aside class="notes">Nicht nur weil Menschen ohnehin in Objekten denken, bietet die objektorientierte Programmierung viele Vorteile. Dadurch, dass immer wieder benötigte zusammengehörige Code-Elemente in Klassen gebündelt werden, werden Redundanz und Fehler vermieden. Wird eine Klasse nachträglich durch die Entwicklung neuer Methoden erweitert oder eine Subklasse erstellt, hat dies meist keine großen Auswirkungen auf den existierenden Programmcode, in dem die Klasse verwendet wird.</aside>
      </section>

      <section>
        <h3>Member-Variablen</h3>
        <div class="trackinfo"><i class="fas fa-book"></i> 11.3</div>
        <p class="small">Jedes Objekt einer Klasse besitzt einen Wert in jeder Member-Variable.</p>
        <pre style="margin-left:0px; width:12cm" ><code class="python" data-sample-indent="keep" data-sample='code/4/person1.py#class'></code></pre>  
        <img style="position: absolute; right:0cm; top:3cm; width:30%; z-index: -5;" uml="
          class Person {
          +name : String
          +alter : int
        }
        "/>
        <h4>Sichtbarkeit</h4>
        <p class="small" style="margin-top: -1mm;">In Python sind alle Member-Variablen immer public, d. h. von innerhalb und außerhalb der Klasse können deren Werte gelesen und geändert werden.</p>
        <aside class="notes">Member-Variablen werden auf Klassenebene definiert. Sie speichern den Zustand eines Objekts der jeweiligen Klasse.</aside>
        
        <h4>Konvention</h4>
        <ul class="small" style="margin-top: -1mm;">
          <li>Klassennamen beginnen mit Großbuchstaben (z. B. <code>Person</code>)</li>
          <li>Member-Variablen beginnen mit Kleinbuchstaben (z. B. <code>name</code>)</li>
          <li>Private Variablen (nur für interne Zwecke) beginnen mit <code>__</code> und dann ein Kleinbuchstabe (z. B. __id)</li>
        </ul>
      </section>

      <section>
        <h2>Datenkapselung</h2>
        <div style="position: absolute; top: 100px; right:0px; font-size:120px"><i class="fas fa-eye-slash python"></i></div>
        <h4>Information Hiding</h4>
        <p class="small">Verstecken von Daten und internen Details vor dem Zugriff von außen.</p>
        <p class="fragment small" data-fragment-index="1">Vorteile:</p>
        <ul class="fragment small" data-fragment-index="1">
          <li>Nur das &quot;Was&quot; und nicht das &quot;Wie&quot; sind nach außen sichtbar</li>
          <li>Implementierung (das &quot;Wie&quot;) kann ohne große Auswirkungen einfach geändert werden</li>
          <li>Modularisierung; dadurch besser testbar und anpassbar</li>
        </ul>

        <p class="small fragment"><i class="fa-solid fa-triangle-exclamation"></i> Auch wenn wir eine private Variable <code>__x</code> nennen, verhindert Python nicht, dass man trotzdem von außen auf sie zugreifen oder sie ändern:</p>
        <pre class="fragment" style="width: 98%;"><code class="python" data-sample-indent="keep" data-sample='code/4/private_var.py#object'></code></pre>
      </section>

      <section>
        <h3>Konstruktor: <code>__init__</code></h3>
        <div class="trackinfo"><i class="fas fa-book"></i> 11.2</div>
        <div style="position: absolute; top: 50px; right:50px; font-size:100px"><i class="fas fa-star python"></i></div>
        <p class="small">Konstruktoren erzeugen neue Objekte der Klasse. <br>
          Sie werden aufgerufen mit <code>Klassenname(...)</code></p> 
        
          <pre style="width: 98%;"><code class="python" data-sample-indent="keep" data-sample='code/4/person1.py#class'></code></pre>
          <pre style="width: 98%;"><code class="python" data-sample-indent="keep" data-sample='code/4/person1.py#object1'></code></pre>

        <h4 class="fragment" data-fragment-index="2">Konstruktoren mit optionalen Parametern</h4>
        <pre class="fragment" data-fragment-index="2" style="width: 98%;"><code class="python" data-sample-indent="keep" data-sample='code/4/person2.py#class'></code></pre>
        <pre class="fragment" data-fragment-index="2" style="width: 98%;"><code class="python" data-sample-indent="keep" data-sample='code/4/person2.py#objects'></code></pre>
        <aside class="notes">Der Konstruktor hat als ersten Parameter das Objekt selbst (<code>self</code>), was gerade neu angelegt wurde.</aside>
      </section>


      <section>
        <h3><code>self</code></h3>
        <p class="small">Mittels <code>self</code> haben wir Zugriff auf das Objekt selbst, um das es gerade geht.</p>
        <pre style="width: 98%;"><code class="python" data-sample-indent="keep" data-sample='code/4/person2.py#class'></code></pre>

        <ul class="small">
          <li><code>self.name</code> und <code>self.alter</code>: Member-Variablen (Zustand des Objekts)</li>
          <li><code>name</code> und <code>alter</code>: lokale Variablen (Parameter des <code>__init__</code>-Konstruktors)</li>
        </ul>
      <aside class="notes">Der Konstruktor hat den Parameter <code>self</code> plus weitere Parameter, die wir festlegen können. Über das Objekt <code>self</code> haben wir Zugriff auf das gerade neu angelegte Objekt, um es zu initialisieren. Meist werden im Konstruktor die Attribute des neuen Objekts auf die der Methode übergebenen Werte (hier <code>name</code> und <code>alter</code>) gesetzt.</aside>
    </section>

    <section>
      <h3>Zugriff auf Member-Variablen</h3>
      <p class="small">Lesender und schreibender Zugriff auf Member-Variablen mittels <code>obj.attribut</code></p>
      <pre style="width: 98%;"><code class="python" data-sample-indent="keep" data-sample='code/4/person2.py#attributes'></code></pre>
    </section>

    <section>
      <h3>Type-Hints</h3>
      <p class="small">Python erlaubt es, zu Variablen (und Member-Variablen) den Datentypen anzugeben. Das macht den Code leserlicher.</p>

      <pre style="width: 70%; margin-left: 1cm;"><code class="python" data-sample-indent="keep" data-sample='code/4/person_typehint.py#class'></code></pre>

      <img style="position: absolute; right:0cm; top:4cm; width:21%" uml='
      class Person {
        +name : str
        +alter : int
        +Person(name)
        +Person(name, alter)
      }
      '/>

      <p class="small"><i class="fa-solid fa-triangle-exclamation"></i> Python passt nicht auf, dass man sich auch wirklich an die Typangabe hält!</p>

    </section>

    <section>
      <h2>Übung 4.1</h2>
      <div style="position: absolute; top:1mm; right: 1mm; font-weight: bold; font-size: 150%; color:#b9a93e"><countdown time="360" autostart="no" /></div>
      
      <p class="small">
        Entwickeln Sie eine Klasse Film. Ein Film hat einen Titel und ein Erscheinungsjahr. Denken Sie auch daran, den Konstruktor anzulegen. Der Konstruktor soll komplett ohne Parameter, nur mit Titel oder mit Titel und Jahr aufgerufen werden können. Erzeugen Sie daraufhin 3 Objekte Ihrer Klasse und geben sie deren Filmtitel und das Jahr aus.    
      </p>

      <img style="width:12cm" uml="class Film {
        +titel : str
        +erscheinungsjahr : int
        +Film()
        +Film(titel : str)
        +Film(titel : str, erscheinungsjahr : int)
      }        
      "/>
           
    </section>


    <section>
      <h3>Methoden</h3>
      <div class="trackinfo"><i class="fas fa-book"></i> 11.4</div>
      <ul class="small">
        <li>Methoden sind wie Funktionen, allerdings innerhalb einer Klasse.</li>
        <li>Methoden werden auf einem Objekt aufgerufen: <code>obj.methodenname(...)</code></li>
        <li>Methoden haben als ersten Parameter immer <code>self</code>.</li>
      </ul>

      <pre style="width: 98%;"><code class="python" data-sample-indent="keep" data-sample='code/4/person1.py#method'></code></pre>
      <pre style="width: 98%;"><code class="python" data-sample-indent="keep" data-sample='code/4/person1.py#method_param'></code></pre>
      <pre style="width: 98%;"><code class="python" data-sample-indent="keep" data-sample='code/4/person1.py#object2'></code></pre>
    </section>

    <section>
      <h3 style="font-size: 135%;">Type-Hints bei Methoden und Funktionen</h3>
      <pre style="width: 98%;"><code class="python" data-sample-indent="" data-sample='code/4/person_typehint.py#method'></code></pre>
      <ul class="small">
        <li><code>jahre: int</code><br>Welcher Datentyp soll der Parameter haben?</li>
        <li><code>-> None</code><br>Welchen Datentyp liefert die Methode / Funktion zurück?
        <br>(bei <code>None</code> liefert sie nichts zurück)</li>
      </ul>
      <img style="width:12cm" src="img/4/type_hint_method.png" alt="Methodensignatur in Visual Studio Code" class="noborder">
      <aside class="notes">Wenn man bei eigenen Methoden und Funktionen Type-Hints zu Parametern und zum Ausgabetypen gibt, macht dies den Code für den Leser besser verständlich. Man sieht, mit welchen Typen die Methode aufgerufen werden soll und welcher Datentyp zurückgeliefert wird. Editoren wie Visual Studio Code zeigen beim Verwenden der Funktion die Typen in den Autocompletion-Fenstern an.</aside>
    </section>

    <section>
      <h2>Übung 4.2</h2>
      <div style="position: absolute; top:1mm; right: 1mm; font-weight: bold; font-size: 150%; color:#b9a93e"><countdown time="480" autostart="no" /></div>
      
      <p class="small">
        Erweitern Sie Ihre Klasse Film um ein privates Attribut <code>__genres</code> (eine Menge) sowie drei Methoden <code>add_genre(self, genre)</code>, <code>remove_genre(self, genre)</code> und <code>genre(self)</code>. Die Methoden sollen das Genre in der Menge speichern, löschen, bzw. die ganze Menge zurückliefern. Erzeugen Sie daraufhin ein Objekt Ihrer Klasse und fügen Sie diesem jeweils mehrere Genres hinzu. Geben Sie die Genres des Films aus.
      </p>

      <img style="width:12cm" uml="class Film {
        +titel : str
        +erscheinungsjahr : int
        -__genres : set
        +Film()
        +Film(titel : str)
        +Film(titel : str, erscheinungsjahr : int)
        +add_genre(genre : str)
        +remove_genre(genre : str)
        +genres() : set
      }        
      "/>
           
    </section>
      
      <section>
        <h3>Overloading</h3>
        <p class="small">In anderen Programmiersprachen darf es mehrere Methoden in einer Klasse mit dem gleichen Namen, aber unterschiedlichen Parametern geben; auch sind mehrere Konstruktoren erlaubt. Dieses Konzept heißt <em>Overloading</em>. Python unterstützt das nicht. In Python gibt es nur einen Konstruktor und jede Methode nur einmal. Das gleiche Prinzip lösen wir mittels optionalen Parametern.</p>
        <pre style="width: 98%;"><code class="python" data-sample-indent="" data-sample='code/4/person1.py#method_param'></code></pre>
        <pre style="width: 98%;"><code class="python" data-sample-indent="keep" data-sample='code/4/person1.py#object3'></code></pre>
      </section>

      <section>
        <h3>Klassenattribute / Statische Attribute</h3>
        <p class="small">Klassenattribute existieren nur einmal (nicht pro Objekt).<br>
        Zugriff über <code>Klassenname.methode(...)</code><br>(mittels <code>self</code> und über das Objekt geht zwar auch, ist aber unüblich)</p>
        
        <pre style="width:19.5cm; margin-left: 0px;"><code class="python" data-sample-indent="keep" data-sample='code/4/haustier.py'></code></pre>
        <img style="position: absolute; right:0cm; top:5.5cm; width:5.5cm" uml="class Haustier {
          {static}+TIERART : String = &quot;Hund&quot;
          {static}+farbe : String
          -name : String
          +Haustier(name : String)
        }        
        "/>
        <aside class="notes">Ein typischer Einsatzzweck für statische Attribute sind Konstanten (hier: <code>TIERART</code>). Was hier mit dem statischen Attribut <code>farbe</code> gemacht wurde, ist jedoch eher unüblich. Jedes Objekt hat stets den gleichen Wert in diesem Attribut.</aside>
      </section>

      <section>
        <h3>Klassenattribute / Statische Attribute</h3>
        <pre style="width:98%"><code class="python" data-sample-indent="keep" data-sample='code/4/konto.py'></code></pre>

        <aside class="notes">Hier sorgt das Klassenattribut <code>next_kontonummer</code> dafür, die nächste Kontonummer abzuspeichern, die das nächste Konto-Objekt erhalten soll.</aside>
      </section>

      <section>
        <h3>Statische Methoden</h3>
        <p class="small">Statische Methoden...</p>
        <ul class="small" style="margin-top: -5mm;">
          <li>... haben keinen Bezug zu einem Objekt (kein <code>self</code>),</li>
          <li>... werden mittels <code>Klassenname.methode(...)</code> aufgerufen,</li>
          <li>... haben keinen Zugriff auf nicht-statische Attribute,</li>
          <li>... können keine nicht-statischen Methoden aufrufen.</li>
        </ul>
        <pre style="width:98%; margin-top:1mm"><code class="python" data-sample-indent="keep" data-sample='code/4/konto_static.py'></code></pre>
        
        <img style="position: absolute; right:0cm; top:1.6cm; width:7.5cm; z-index: 1;" uml="class Konto {
          {static}+next_kontonummer : float
          +Konto()
          {static}+next_kontonummer_zuruecksetzen()
        }        
        "/>
        
        <aside class="notes">In der statischen Methode <code>next_kontonummer_zuruecksetzen</code> kann man andere statische Methoden aufrufen, aber nicht auf Methoden wie <code>kontostand_usd</code>, da ja in der Methode kein Objekt (<code>self</code>) vorliegt. Aus dem gleichen Grund kann man in der statischen Methode auch nicht auf nicht-statische Attribute (z. B. <code>kontonummer</code> oder <code>kontostand</code>) zugreifen.</aside>
      </section>

      <section>
        <h3>Getter und Setter</h3>

        <img style="position: absolute; right:0cm; top:3cm; width:6cm; z-index: 1;" uml="class Konto {
          -__kontonummer
          -__kontostand
          +kontonummer
          +kontostand
          +Konto(kontonummer)
        }        
        "/>

        <p class="small">Attribute sind ja public, sie lassen sich überall auslesen und setzen:</p>
        <pre style="width:68%; left:-4cm"><code class="python" data-sample-indent="keep" data-sample='code/4/gettersetter.py#normal'></code></pre>

        <div class="columns">
          <div>
            <h4>Getter</h4>
            <p class="small">Methode, die aufgerufen wird, wenn Attribut ausgelesen wird.</p>
            <pre style="width:10cm"><code class="python" data-sample-indent="" data-sample='code/4/gettersetter.py#Getter'></code></pre>
          </div>
          <div>
            <h4>Setter</h4>
            <p class="small">Methode, die aufgerufen wird, wenn Attribut geschrieben werden soll.</p>
            <pre style="width:14cm"><code class="python" data-sample-indent="" data-sample='code/4/gettersetter.py#Setter'></code></pre>
          </div>
        </div>
        <aside class="notes">Standardmäßig lesen wir mit <code>obj.attribut</code> den Wert aus bzw. können ihn setzen. Wenn wir einen Getter bzw. Setter definieren, können wir selbst festlegen, was in dem Fall passieren soll. In unserem Beispiel setzen wir stattdessen das private Attribut <code>__kontostand</code> bzw. lesen es aus.</aside>
      </section>

      <section>
        <h3>Getter und Setter</h3>

        <img style="position: absolute; right:0cm; top:3cm; width:6cm; z-index: 1;" uml="class Konto {
          -__kontonummer
          -__kontostand
          +kontonummer
          +kontostand
          +Konto(kontonummer)
        }        
        "/>

        <pre style="width:98%;"><code style="min-height: 16cm;" class="python" data-sample-indent="keep" data-sample='code/4/gettersetter2.py#class'></code></pre>
      </section>

      <section>
        <h3>Getter und Setter</h3>

        <img style="position: absolute; right:0cm; top:1cm; width:6cm; z-index: 1;" uml="class Konto {
          -__kontonummer
          -__kontostand
          +kontonummer
          +kontostand
          +Konto(kontonummer)
        }        
        "/>
        <pre style="width:98%;"><code class="python" data-sample-indent="keep" data-sample='code/4/gettersetter2.py#exception1'></code></pre>
        <p class="small red" style="margin-top: -3mm;">ValueError: Muss positiv!</p>

        <pre style="width:98%;"><code class="python" data-sample-indent="keep" data-sample='code/4/gettersetter2.py#exception2'></code></pre>
        <p class="small red" style="margin-top: -3mm;">AttributeError: can't set attribute 'kontonummer'</p>

        <aside class="notes">Dadurch, dass wir die Attribute <code>__kontonummer</code> und <code>__kontostand</code> nun privat gemacht, also versteckt haben, haben wir mit unseren Gettern und Settern selbst die Kontrolle, was mit den Attributen gemacht werden darf. In unserem Setter, der den Kontostand setzt, wird aufgepasst, dass kein negativer Kontostand gesetzt wird. Falls es doch jemand versucht, wird eine Exception geworfen. Dadurch, dass wir gar keinen Setter für <code>kontostand</code> angelegt haben, lässt sich dieses Attribut also nicht mehr verändern.</aside>
      </section>

      
      <section>
        <h2>Übung 4.3</h2>
        <div style="position: absolute; top:1mm; right: 1mm; font-weight: bold; font-size: 150%; color:#b9a93e"><countdown time="240" autostart="no" /></div>
        <p class="small">Passen Sie Ihre Film-Klasse so an, dass Ihre <code>genres</code>-Methode ein Setter ist, damit man einfach mit <code>objekt.genres</code> auf die Menge der Genres zugreifen kann.</p>
        <img style="width:12cm" uml="class Film {
          +titel : str
          +erscheinungsjahr : int
          -__genres : set
          +genres
          +Film()
          +Film(titel : str)
          +Film(titel : str, erscheinungsjahr : int)
          +add_genre(genre : str)
          +remove_genre(genre : str)
        }        
        "/>               
      </section>


      <section>
        <h2>UML</h2>
        <h4>Unified Modelling Language</h4>
        <p class="small" style="width:18cm;">Standardisierte grafische Sprache, die 14 Diagrammtypen zur Modellierung von Software-Systemen bietet:</p>

        <ul class="small">
          <li>Klassendiagramm (Beispiel: Klasse <code>Person</code>) &UpperRightArrow;</li>
          <li>Objektdiagramm (Beispiel: Objekt <code>p</code>) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &LowerRightArrow;</li>
          <li>Sequenzdiagramm</li>
          <li>...</li>
        </ul>

        <img style="position: absolute; right:0cm; top:4cm; width:21%" uml='
        class Person {
          -__name : str
          -__alter : int
          +name : str
          +alter : int
          +erhoeheAlter()
        }     
        
        object "p:Person" as p {
          name = "Peter"
          alter = 20
          }
         Person -[hidden]-> p
        '/>
      </section>

      <section>
        <h3>UML-Klassendiagramm</h3>

        <p class="small" style="margin-left:-3mm; margin-right: -1cm;">
          <code>+|- &lt;Attribut&gt; : &lt;Typ&gt; </code><br>
          <code>+|- &lt;Methode&gt;(&lt;Parameter&gt; : &lt;Typ&gt;, ...) : &lt;Rückgabetyp&gt; </code>
        </p>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <h4>Sichtbarkeiten</h4>
        <ul class="small" style="width: 100%; margin-left: 8mm;">
          <li><code>+ public</code>: Sichtbar von überall (Standard in Python)</li>
          <li><code>- private</code>: Nur in der Klasse selbst sichtbar (mit <code>__</code> einigermaßen realisierbar)</li>
        </ul>

        <img style="position: absolute; right:0cm; top:5cm; width:21%" uml="class Person {
          -__name : str
          -__alter : int
          +name : str
          +alter : int
          +erhoeheAlter()
        }      
        "/>

        <aside class="notes">In Klassendiagrammen werden Klassen samt ihrer Attribute und Methoden dargestellt sowie die Beziehungen zwischen ihnen.</aside>
      </section>

      <section>
        <h3>Objektreferenzen</h3>
        <img style="position: absolute; right:0cm; top:2cm; width:50%; z-index: 99;" uml="class Person {
          +name : String
          +alter : int
          +adresse : Adresse
          +erhoeheAlter()
        }

        class Adresse {
          +strasse : str
          +hausnummer : str
          +plz : str
          +ort : str
        }
        Person &quot;*&quot; ---r &quot;1&quot; Adresse : \t
        "/>

        <pre style="width:98%;"><code style="min-height: 12.2cm;" class="python" data-sample-indent="keep" data-sample='code/4/adresse.py#reference'></code></pre>
        <aside class="notes">Die Member-Variable <code>adresse</code> der Klasse <code>Person</code> hat die Klasse <code>Adresse</code>, das heißt, sie referenziert ein Objekt ebendieser <code>Adresse</code>-Klasse.</aside>
      </section>

      <section>
        <h3>Objektidentität</h3>
        <p class="small"><code>is</code> überprüft, ob zwei Variablen <em>dasselbe</em> Objekt referenzieren.</p>
        <pre style="width:98%;"><code class="python" data-sample-indent="keep" data-sample='code/4/adresse.py#objects'></code></pre>
        <pre style="width:98%;"><code class="python" data-sample-indent="keep" data-sample='code/4/adresse.py#is'></code></pre>
        <pre class="fragment" style="width:98%;"><code class="python" data-sample-indent="keep" data-sample='code/4/adresse.py#change'></code></pre>
        <aside class="notes">Hier wird &quot;Peter und Ute haben dieselbe Adresse." ausgegeben, da sie beide dasselbe <code>Adresse</code>-Objekt referenzieren. Das zweite <code>print</code> gibt &quot;Ute wohnt in der Hausnummer 5&quot; aus, da sich Peters Adressänderung auch auf Ute auswirkt. Es handelt sich ja um dasselbe <code>Adresse</code>-Objekt.</aside>
      </section>

      <section>
        <h3>Gleichheit: <code>==</code></h3>
        <div class="trackinfo"><i class="fas fa-book"></i> 11.5</div>
        <div style="position: absolute; top: 30px; right:0px; font-size:70px"><i class="fas fa-home python"></i><i class="fas fa-home python"></i></div>
        <p class="small"><code>==</code> soll überprüfen, ob zwei Objekte als gleich behandelt werden.<br>Dazu muss man die Methode <code>__eq__</code> für eigene Klassen selbst entwickeln.</p>
        <pre style="width:98%;"><code class="python" data-sample-indent="" data-sample='code/4/adresse_eq.py#__eq__'></code></pre>
        <pre style="width:98%;"><code class="python" data-sample-indent="" data-sample='code/4/adresse_eq.py#objects'></code></pre>
        <pre style="width:98%;"><code class="python" data-sample-indent="keep" data-sample='code/4/adresse_eq.py#eq'></code></pre>

        <div class="poll fragment" style="bottom:-70px">
          <h1>Peters und Utes Adressen sind...?</h1>
            <ul>
              <li>dieselbe und die gleiche</li>
              <li>dieselbe, aber nicht die gleiche</li>
              <li data-poll="correct">nicht dieselbe, aber die gleiche</li>
              <li>nicht die selbe und nicht die gleiche</li>
            </ul>
          <h2>https://frage.space</h2>
         </div>

        <aside class="notes">Die Methode <code>__eq__</code> gibt <code>true</code> aus, wenn zwei Adressen dieselbe Straße, Hausnummer, PLZ und Ort haben.</aside>
      </section>

      <section>
        <h3>UML-Objektdiagramm</h3>
        <pre style="width:98%;"><code class="python" data-sample-indent="" data-sample='code/4/adresse_eq.py#objects'></code></pre>
        <img style="width:45%" uml='object "<u>p:Person</u>" as p {
          name = "Peter"
          alter = None
          }
          
          object "<u>u:Person</u>" as u {
            name = "Ute"
            alter = None
            }
            
          object "<u>:Adresse</u>" as a {
            strasse = "Holzweg"
            hausnummer = "3a"
            plz = "09111"
            ort = "Chemnitz"
            }

            object "<u>:Adresse</u>" as b {
              strasse = "Holzweg"
              hausnummer = "3a"
              plz = "09111"
              ort = "Chemnitz"
              }
              
            p--a : adresse
            u--b : adresse
              '>
        <aside class="notes">Während UML-Klassendiagramme dazu geeignet sind, das Schema der Daten zu beschreiben, wird in Objektdiagrammen eine Momentaufnahme von konkreten Instanzen von Klassen - also Objekten - dargestellt. In Objektdiagrammen wird der Bezeichner unterstrichen. Es ist optional, dem Objekt einen Namen zu geben (z. B. <code>p</code>).</aside>
      
        
      </section>

      <section>
        <h3>UML-Objektdiagramm</h3>
        <pre style="width:98%;"><code class="python" data-sample-indent="" data-sample='code/4/adresse.py#objects'></code></pre>
        <img style="width:45%" uml='object "<u>p:Person</u>" as p {
          name = "Peter"
          alter = None
          }
          
          object "<u>u:Person</u>" as q {
            name = "Ute"
            alter = None
            }
            
          object "<u>a:Adresse</u>" as a {
            strasse = "Holzweg"
            hausnummer = "3a"
            plz = "09111"
            ort = "Chemnitz"
            }
              
            p--a : adresse
            q--a : adresse
              '>
        <aside class="notes">Im nun gezeigen Beispiel haben Peter und Ute dieselbe Adresse. Es existiert - anders als im Beispiel auf der vorherigen Folie - nur ein einziges <code>Adresse</code>-Objekt.</aside>
      </section>

      <section>
        <h2>Übung 4.4</h2>
        <div style="position: absolute; top:1mm; right: 1mm; font-weight: bold; font-size: 150%; color:#b9a93e"><countdown time="720" autostart="no" /></div>
        
        <ol class="small" style="width:13cm">
          <li>Erweitern Sie Ihre Film-Klasse um die <code>__eq__</code>-Methode. Zwei Filme sollen als gleich behandelt werden, wenn deren Titel und Erscheinungsjahr gleich ist. Die Genres sind egal. Testen Sie mit mehreren Film-Objekten ob der Vergleich mit <code>==</code> ordnungsgemäß funktioniert.<br>&nbsp;</li>
          <li>Erweitern Sie Ihre Film-Klasse um eine Methode <code>similarity(self, other)</code>, die einen Film mit einem anderen Film vergleicht. Dazu soll der Jaccard-Koeffizient der beiden Genre-Mengen berechnet werden:<br>
          $similarity(A, B) = \frac{|A \cap B|}{|A \cup B|}$<br>
          </li>
        </ol>

  
        <img style="position: absolute; top:3cm; right:0cm; width:11cm" uml="class Film {
          +titel : str
          +erscheinungsjahr : int
          -__genres : set
          +genres
          +Film()
          +Film(titel : str)
          +Film(titel : str, erscheinungsjahr : int)
          -__eq__(self, other)
          +add_genre(genre : str)
          +remove_genre(genre : str)
          +similarity(other : Film) : float
        }        
        "/> 
             
      </section>

      <section>
        <h3>Operator-Overloading</h3>
        <div class="trackinfo"><i class="fas fa-book"></i> 11.5</div>
        
        <table class="small">
          <tr><th>Methode</th><th>Operator</th><th>Beschreibung</th></tr>
          <tr><td><code>__add__(self, other)</code></td><td><code>+</code></td><td>Addition</td></tr>
          <tr><td><code>__eq__(self, other)</code></td><td><code>==</td></code><td>Test auf Gleichheit</td></tr>
          <tr><td><code>__hash__(self)</code></td><td></td><td>Hash-Funktion</td></tr>
          <tr><td><code>__le__(self, other)</code></td><td><code>&lt;=</code></td><td>Vergleich ob kleiner oder gleich</td></tr>
          <tr><td><code>__lt__(self, other)</code></td><td><code>&lt;</code></td><td>Vergleich ob kleiner</td></tr>
          <tr><td><code>__mul__(self, other)</code></td><td><code>*</code></td><td>Multiplikation</td></tr>
          <tr><td><code>__repr__(self)</code></td><td></td><td>String-Darstellung (für Debugging)</td></tr>
          <tr><td><code>__str__(self)</code></td><td></td><td>String-Darstellung (für <code>print</code>)</td></tr>
          <tr><td><code>__sub__(self, other)</code></td><td><code>-</code></td><td>Subtraktion</td></tr>
        </table>
      </section>

      <section>
        <h3><code>__lt__</code></h3>
        <pre style="width:98%; margin-top: -5mm;"><code style="max-height: 1000px;" class="python" data-sample-indent="keep" data-sample='code/4/person_lt.py'></code></pre>
        <aside class="notes">Nach Implementierung von <code>__eq__</code> können wir zwei Personen-Objekte miteinander vergleichen. Wir dürfen <code>&lt;</code> verwenden, aber auch <code>&gt;=</code> (entspricht ja <code>not &lt;</code>). Sortieren geht nun auch.</aside>
      </section>

      <section>
        <h3><code>__hash__</code>, <code>__eq__</code>, <code>__repr__</code></h3>
        <pre style="width:98%; margin-top: -5mm;"><code style="max-height: 1000px;" class="python" data-sample-indent="keep" data-sample='code/4/person_hash.py'></code></pre>
        <aside class="notes">Wenn man Objekte eigener Klassen in Mengen oder als Keys von Dictionaries speichern will, muss man die <code>__hash__</code>- und <code>__eq__</code>-Methoden implementieren, ansonsten ist Python nicht in der Lage die Einträge zu verwalten und zu überprüfen, ob etwas schon in der Menge drin ist. In der letzten Zeile geben wir die Menge als Gesamtes aus. Dabei ruft Python für jedes Element in der Menge die <code>__repr__</code>-Methode auf, um eine String-Repräsentation aus dem Objekt zu erzeugen.</aside>
      </section>

      <section>
        <h3>Datenklassen: <code>@dataclass</code></h3>
        <div class="trackinfo"><i class="fas fa-book"></i> 11.6</div>
        <p class="small">Simple Datenklassen, die einfach nur Daten organisieren.
        <br><code>__init__</code>, <code>__eq__</code>, <code>__repr__</code>, <code>__str__</code> werden automatisch generiert!<br>
        <pre style="width:98%;"><code style="max-height: 1000px;" class="python" data-sample-indent="keep" data-sample='code/4/person_dataclass.py'></code></pre>
      </section>

      <section>
        <h3><code>@dataclass(frozen=True)</code></h3>
        <div class="trackinfo"><i class="fas fa-book"></i> 11.6</div>
        <p class="small"><code>frozen=True</code>: Die Objekte sind immutable (unveränderlich).
        <br>Hier wird zusätzlich noch <code>__hash__</code> generiert!<br>
        <pre style="width:98%;"><code style="max-height: 1000px;" class="python" data-sample-indent="keep" data-sample='code/4/person_dataclass_frozen.py'></code></pre>
        <pre class="fragment" data-fragment-index="2" style="width:98%"><code class="python">person1.alter += 1</code></pre>
        <p class="fragment small red" data-fragment-index="2">dataclasses.FrozenInstanceError: cannot assign to field 'alter'</p>
        <div class="poll fragment" style="bottom:-30px">
          <h1>Wenn frozen=True nicht gesetzt ist, was geht dann nicht?</h1>
            <ul>
              <li>Objekte in Liste einfügen</li>
              <li data-poll="correct">Objekte in Menge einfügen</li>
              <li>Objekte als Werte in einem Dictionary verwenden</li>
              <li>Objekte auf Gleichheit mit anderen Objekten überprüfen</li>
            </ul>
          <h2>https://frage.space</h2>
         </div>
      </section>

			<section>
							<h2>Kapitelzusammenfassung</h2>
							<ul>
                <li>Klassen und Objekte</li>
                <li>Member-Variablen</li>
                <li>Konstruktoren, Methoden, Getter, Setter</li>
                <li><code>self</code></li>
                <li>Type-Hints</li>
                <li>Statische Attribute und Methoden</li>
                <li>UML: Klassendiagramme und Objektdiagramme</li>
                <li>Objektidentität, <code>__eq__</code></li>
                <li><code>__lt__</code>, <code>__hash__</code>, ...</li>
							</ul>
      </section>

      <section>
        <h2>Übung 4.5</h2>
        <div style="position: absolute; top:1mm; right: 1mm; font-weight: bold; font-size: 150%; color:#b9a93e"><countdown time="3600" autostart="no" /></div>
        
        <ol class="small">
          <li>Laden Sie sich im ELO die Programmcode-Datei <code>regen.py</code> herunter. Installieren Sie mittels <code>pip3</code> (bzw. <code>pip</code>) die benötigte Bibliothek <code>pygame</code> und starten Sie das Spiel. Schauen Sie sich den Programmcode an und versuchen Sie, ihn bestmöglich zu verstehen.</li>
          <li>Zeichnen Sie ein UML-Diagramm mit den Klassen <code>Player</code> und <code>Raindrop</code></li>
          <li>Passen Sie das Spiel so an, dass man in den Konstruktoren von <code>Player</code> und <code>Raindrop</code> optional die Größe und Farbe übergeben kann.</li>
          <li>Sorgen Sie dafür, dass die Regentropfen unterschiedliche zufällige Größen haben.</li>
          <li>Aktuell ist es so, dass das Spiel beendet wird, wenn ein Regentropfen den Spieler trifft. Ändern Sie es so um, dass der Spieler Gelb ist. Bei einmaligem Treffen eines Regentropfens soll der Spieler rot werden. Trifft ein weiterer Tropfen, ist das Spiel vorbei.</li>
          <li>Bauen Sie Punkte ein. Oben oder unten soll irgendwo am Rand stehen, wie viele Regentropfen man bereits überlebt hat.</li>
        </ol>

             
      </section>

			</div>
		</div>

		<script src="reveal.js/dist/reveal.js"></script>
		<script src="reveal.js/plugin/markdown/markdown.js"></script>
		<script src="reveal.js/plugin/highlight/highlight.js"></script>
		<script src="reveal.js/plugin/zoom/zoom.js"></script>
		<script src="reveal.js/plugin/math/math.js"></script>
		<script src="reveal.js/plugin/notes/notes.js"></script>
		<script src="reveal.js/plugin/search/search.js"></script>
        <script src="lib/jquery.js"></script>
        <script src="lib/lodash.js"></script>
        <script src="lib/backbone.js"></script>
        <script src="lib/joint.min.js"></script>
				<script src="lib/deflate.js"></script>

		<script src="src/init_reveal.js"></script>

        <script>
        if(window.location.search.match( /print-pdf/gi )) {
                document.getElementById('header').style="display:none";
                document.getElementById('footer').style="display:none";
        }
        </script>



	</body>
</html>
